<div class="container-fluid background-layout-login">
  <div class="login-bg"></div>
  <div class="login-form">
    <div class="col-md-6 offset-md-3">
      <br /><br /><br />

      <div class="container-form">
        <form
          class="form-login"
          [formGroup]="registerForm"
          (ngSubmit)="onRegister(f)"
          #f="ngForm"
        >
          <div class="login">
            <h2>¿Eres padre de familia?</h2>
            <h1>Crea una cuenta</h1>

            <mat-form-field appearance="outline">
              <mat-label>Nombre</mat-label>
              <input
                type="text"
                name="nombre"
                formControlName="nombre"
                matInput
                #fieldEmail
                required
                placeholder="Nombre"
                maxlength="50"
              />

              <mat-icon matSuffix>person</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Apellido</mat-label>
              <input
                class="lastname"
                type="text"
                name="apellido"
                required
                formControlName="apellido"
                placeholder="Apellido"
                matInput
                maxlength="50"
              />

              <mat-icon matSuffix>article</mat-icon>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Correo electrónico</mat-label>

              <input
                matInput
                type="email"
                name="email"
                required
                email
                pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,3}$"
                formControlName="email"
                placeholder="test@test.com"
              />

              <mat-icon matSuffix>email</mat-icon>
              <mat-error
                *ngIf="
                  f.touched &&
                  registerForm.controls['email'].hasError('pattern')
                "
                >Introduce un correo electrónico válido
              </mat-error>
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Contraseña</mat-label>
              <input
                [type]="hide ? 'password' : 'text'"
                matInput
                name="password"
                required
                minlength="10"
                formControlName="password"
                placeholder="prueba123"
              />

              <button
                mat-icon-button
                matSuffix
                type="button"
                (click)="hide = !hide"
              >
                <mat-icon>lock</mat-icon>
              </button>
              <mat-error
                *ngIf="
                  f.submitted &&
                  registerForm.controls['password'].hasError('minlength')
                "
              >
                La contraseña debe tener por lo menos 10 caracteres</mat-error
              >
              <br />
            </mat-form-field>

            <mat-form-field appearance="outline">
              <mat-label>Teléfono</mat-label>

              <input
                matInput
                type="text"
                name="telefono"
                required
                placeholder="0987654321"
                maxlength="10"
                minlength="10"
                pattern="[0-9]\d{0,10}$"
                formControlName="telefono"
              />

              <mat-icon matSuffix>phone</mat-icon>
              <mat-error
                *ngIf="
                  f.submitted &&
                  registerForm.controls['telefono'].hasError('pattern')
                "
                >Solo puedes introducir números</mat-error
              >
              <mat-error
                *ngIf="
                  f.submitted &&
                  registerForm.controls['telefono'].hasError('minlength') &&
                  !registerForm.controls['telefono'].hasError('pattern')
                "
                >Introduce mínimo 10 números</mat-error
              >
            </mat-form-field>
            <div *ngIf="emailExist" class="text-danger">
              El email ingresado ya se encuentra registrado <br /><br />
            </div>

            <button
              class="login-button"
              color="primary"
              type="submit"
              mat-flat-button
            >
              Registrarme
            </button>

            <p class="register-redirect">
              Ya eres miembro?
              <span [routerLink]="['/login']">Inicia sesión</span>
            </p>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Modal -->
